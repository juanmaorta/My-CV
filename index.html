<html>
<head>
	<title></title>
	<script language="Javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script language="Javascript" src="./libs/mustache.js"></script>
	<script language="Javascript" src="./app/cv.class.js" ></script>
	<script language="Javascript" src="./app/mycv.json.js" ></script>
	<script language="Javascript" src="./app/app.js" ></script>
	<link href="./css/main.css" rel="stylesheet" type="text/css" media="all" />
	<link href="./css/print.css" rel="stylesheet" type="text/css" media="print" />
</head>
<body>
<div id="wrapper">
	<ul id="menu">
		<li><a href="#personal_info" title="personal">.displayPersonalInfo()</a></li>
		<li><a href="#academic_info" title="academic">.displayAcademicInfo()</a></li>
		<li><a href="#technical_skill_info" title="professional">.displayProfesionalInfo()</a></li>
		<li><a href="#professional_info" title="tech">.displayTechnicalSkills()</a></li>
		<li><a href="#project_info" title="projects">.displayProjects()</a></li>
	</ul>
	<div id="display_info"></div>
	<div id="id_info_cont"></div>
</div>
<div id="footer">
	<a href="javascript:;" class="print">Printer friendly version</a>
	<p>This CV is also a proof of concept of some front-end development skills: <strong>HTML, Javascript, CSS</strong>, (and <strong>CoffeeScript/SASS</strong> as well) and <strong>responsive layout</strong>.</p>
	<p>The <strong>full source code</strong> of the interactive version is available at <a href="https://github.com/juanmaorta/My-CV" target="_blank">GitHub</a></p>
</div>

<script>
$(document).ready(function(){
   	$maincont = $("#display_info");
   	$idcont = $("#id_info_cont");
   	
	$("#menu a").click(function () {
		switch($(this).attr("title")) {
			case "personal":
				displayPersonalInfo($maincont, candidate);
				break;
			case "academic":
				displayAcademicInfo($maincont, candidate);
				break;
			case "professional":
				displayProfesionalInfo($maincont, candidate);
				break;
			case "tech":
				displayTechnicalSkills($maincont, candidate);
				break;
			case "projects":
				displayProjects($maincont, candidate);
				break;
		}
	});

	// shows id info
	displayIdInfo($idcont, candidate);
	// shows default content
	displayPersonalInfo($maincont, candidate);

	// print
	$("#footer").click(function () {
		$('body').css("background-color", "#fff");
		$(".print").hide();
		var append = true;

		displayPersonalInfo($maincont, candidate);
		displayAcademicInfo($maincont, candidate, append);
		displayProfesionalInfo($maincont, candidate, append);
		displayTechnicalSkills($maincont, candidate, append);
		displayProjects($maincont, candidate, append);
		window.print();
	});
 });
</script>

<!-- Mustache templates -->
<!-- personal info -->
<script id="id_info" type="text/template">
	<h2>{{name}} {{surname}}</h2>
	{{#photo}}<img src="{{photo}}" alt="{{name}}'s photo" />{{/photo}}
</script>

<script id="personal_info" type="text/template">
	<h2 class="first"><a name="personal_info">Personal info</a></h2>
	
	<p>{{name}} {{surname}}</p>
	<p>{{gender}}, {{age}}</p>
	<p><strong>I live in</strong> {{city_of_residence}} - {{country_of_residence}}</p>
	
	<div style="margin: 1.5em 0;">
	<p style="margin-bottom: 1em;">I invite you to...</p>
	<p>say hello: <a href="mailto:{{email}}">{{email}}</a></p>
	<p>call me: {{mobile}}</p>
	{{#web}}<p>or visit my <a href="{{web}}" target="_blank">personal website</a></p>{{/web}}
	</div>

	<h3>Social URLs</h3>
	<ul class="enum">{{#other_urls}}<li><a href="{{url}}" target="_blank">{{name}}</a></li>{{/other_urls}}</ul>
</script>

<!-- academic info -->
<script id="academic_info" type="text/template">
	<h2><a name="academic_info">Academic info</a></h2>
	<ul>{{#studies}}<li><strong>{{title}}</strong><p><em>{{period}}</em></p><p>{{center}}</p><p>{{city}}</p></li>{{/studies}}</ul>
	<h3>Languages</h3>
	<ul class="enum">
	{{#languages}}
	<li>{{lang_name}} - {{level}}</li>
	{{/languages}}
	</ul>
</script>

<!-- technical skills -->
<script id="technical_skill_info" type="text/template">
	<h2><a name="technical_skill_info">Technical skills</a></h2>
	<ul class="enum">
	{{#tech_skills}}
		<li>{{.}}</li>
	{{/tech_skills}}
	</ul>
</script>

<!-- professional info -->
<script id="professional_info" type="text/template">
	<h2><a name="professional_info">Professional info</a></h2>
	<ul>
		{{#prof_experience}}
		<li>
			<h3>{{company}}</strong></h3>
			<p>{{position}}</p>
			<p>{{period}}</p>
			{{#description}}<p class="desc">{{description}}</p>{{/description}}
		</li>
		{{/prof_experience}}
	</ul>
</script>

<!-- project info -->
<script id="project_info" type="text/template">
	<h2><a name="project_info">My projects</a></h2>
	<ul>
	{{#projects}}
	<li>
		<a href="{{url}}" target="_blank"><strong>{{name}}</strong></a>
		{{#duties}}<p>{{duties}}</p>{{/duties}}
		{{#description}}<p class="desc">{{description}}</p>{{/description}}
	</li>
	{{/projects}}
	</ul>
</script>
</body>
</html>